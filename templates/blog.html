{% extends "base.html" %}

{% block content %}
  <h2>Blog</h2>

  {% if session.logged_in %}
    <a href="{{ url_for('add_post') }}" class="btn">Add New Post</a>
  {% endif %}

  {% for post in posts %}
    <div class="post">
      <h3><a href="{{ url_for('view_post', post_id=post.id) }}">{{ post.title }}</a></h3>
      <p>{{ post.content[:150] }}...</p>
      <p><small>{{ post.likes }} likes</small></p>
    </div>
    <hr>
  {% else %}
    <p>No blog posts yet.</p>
  {% endfor %}
{% endblock %}
